---
类型: " 笔记"
时间: 2024-01-22T11:08:00 
父类标识: C++ prime plus笔记
---
# 进入C++
```c++
#include<iostream>

using namespace std;

int main(){

    cout<<"Come up and C++ me some time."<<endl;

    cout<<"You won't regret it!"<<endl;

    cin.get();

    return 0;

}
```
![[MyFirstC++.cpp]]
## 预处理器
处理以#开头的编译指令，而不必执行认可特殊的操作来调用该预处理器，它会在程序开始时自动运行程序。
例如iostream，#include指令导致iostream文件中的内容随源代码的内容一起发送给编译器。实际上，iostream文件的内容将取代程序中的代码行`#include<iostream>`。原始文件没有被修改，而是将源代码文件和iostream组合成一个复合文件，编译的下一阶段将使用该文件。
使用cin和cout进行输入和输出的程序必须包含文件iostream!
## 头文件
- c的头文件以h作为后缀，cpp的头文件没有后缀
- c的头文件c++也能用，会去掉.h后缀并且加上c前缀代表着是一个c的头文件，如：math.h-->cmath
## 名称空间
`using namespace std`
这里的using是一个编译指令，名称空间是cpp的一项特性，用于将多个厂商现有的代码组合起来的程序时更加容易，如下面这两个wanda（）函数：
```c++
Microflop::wanda("go dancing!");//use microflop namespace version
Piscine::wanda("a fish named Desire");//use Piscine namespace version
```
为了使这种方法更方便，using编译指令应运而生，下面的程序表明可以使用std名称空间中定义的名称：
```c++
using namespace std;
```
这个using指令使得**整个std名称空间**中的所有指令都可以使用，这是一种偷懒的方法。还有一种更好的解决方法，只使所需的名称可用：
```c++
using std::cout;
using std::endl;
using std::cin;
```
使用这些编译指令之后，就可以使用cin和cout并且不需要加上std::前缀
## cout对象
输出是一个流，即从程序流出的一系列字符，cout对象表示这种流，其属性是在iostream中定义的，cout的对象属性包括一个**插入运算符**(<<)，它可以将其右侧的信息插入到流当中去。
实际上<<是左移运算符<<的重载。通过**重载**一个运算符可以有不同的含义。例如，&运算符即表示地址运算符，又表示and运算；\*即表示乘法，又表示对指针的解除引用。
c++扩展了运算符重载的概念，允许为用户定义的类新定义运算符的含义。
endl表示重起一行，在输出流中插入endl将导致屏幕光标移动到下一行。诸如endl等对cout来说有特殊含义的特殊符号被称为**控制符**（manipulate）。
cpp中还提供了另一种换行指令"\n"，换行符是一种被称为**转义字符**的特殊按键组合。
## c++的格式化
c++中分号标识了语句的结束，因此回车的作用和制表符的作用一样，可以将代码写成如下：
```c++
#include<iostream>

using namespace
std;

int 
main(){

    cout<<
    "Come up and C++ me some time."<<endl;

    cout<<
    "You won't regret it!"
    <<endl;

    cin.
    get();

    return
     0;

}
```
这样虽然不好看但是却是合法的。
代码中不能分割的元素称为标记（token）。通常，必须使用空格、制表符或回车将两个标记分开。
# c++语句
```c++
#include<iostream>

  

int main(){

    using namespace std;

  

    int carrots;

  

    carrots=25;

    cout<<"I have ";

    cout<<carrots;

    cout<<" carrots.";

    cout<<endl;

    carrots--;

    cout<<"Crunch, crunch. Now I have "<<carrots<<" carrots."<<endl;

    return 0;

  [[应用层]]

}
```
![[carrots.cpp]]
## 声明语句和变量
要将信息存储在计算机中，必须要指出信息存储的位置和所需要的内存空间，c++使用声明语句来指出存储类型并提供位置标签。如：
```c++
int carrots
```
这条语句提供了两条信息：需要的内存以及该内存单元的名称。
## 赋值语句

`=`是赋值语句，可以将值赋给存储单元。在c++中=可以被连续使用，如：
```c++
int steinway,baldwin,yamaha;
steinway=baldwin=yamaha=25;
```
## cout的新花样
c中的输出语句需要使用多功能输出函数printf（），抛开printf的特殊性不谈，还必须要使用特殊代码%s和%d来指出打印出来的字符串还是整数。cout的特殊性源于c++的面向对象特征，c++根据运算符<<后面的数据类型来调整其行为，这是**运算符重载**的例子。
相比于printf，cout是可扩展的（extensible）。也就是说，使用<<运算符，使cout能够识别和显示所开发的新数据类型。
# 其他C++语句
```c++
#include<iostream>

using namespace std;

int main(){

    int carrots;

  

    cout<<"How many carrots do you have?";

    cin>>carrots;

    cout<<"Here are two more"<<endl;

    carrots=carrots+2;

    cout<<"Now you have "<<carrots<<" carrots."<<endl;

    return 0;

  

}
```
![[getinfo.cpp]]
## 使用cin
iostream文件将cin定义为表示流出程序的字符流，与cout一样cin也是一个智能对象，他能根据键盘输入的一系列字符转换为接受信息的变量能够接受的形式。
## 类简介
cout是一个ostream对象，同样cin是一个istream对象。
类描述了可对类对象执行的所有操作，要对特定对象执行这些允许的操作，需要给该对象发送一条消息。C++提供了两种**发送消息**的方法，一种方法是使用类方法；一种方式是重新定义运算符。
# 函数 
## 使用有返回值的函数
有返回值的函数将生成一个值，这个值可以赋给变量或在其他表达式中使用。如：
```c++
x=sqrt(6.25);
```
使用函数前C++编译器必须知道函数的参数类型和返回值类型。C++提供这些信息的方式是**函数原型**（function prototype）。
函数原型之于函数相当于变量声明之于变量。
```c++
double sqrt(double);
```
第一个double表示sqrt将返回一个double值，第二个double表示sqrt需要传递一个double参数。
在程序中使用sqrt时，必须要提供原型，有两种方法可以实现：
- 在源代码中输入函数原型
- 包含头文件cmath中，定义了原型
```c++
#include<iostream>

#include<cmath>

int main(){

    using namespace std;

    double area;

    cout<<"Enter the floor area, in square feet, of your name: ";

    cin>>area;

    double side;

    side=sqrt(area);

    cout<<"That's the equivalent of a square "<<side

        <<"feet to the side."<<endl;

    cout<<"How fascinating!"<<endl;

    return 0;

}
```
![[sqrt.cpp]]
## 用户定义的无返回值的函数
```c++
#include<iostream>

void simon(int);

  

int main(){

    using namespace std;

    simon(3);

    cout<<"Pick an integer: ";

    int count;

    cin>>count;

    simon(count);

    cout<<"Done!"<<endl;

    return 0;

}

void simon(int n){

    using namespace std;

    cout<<"Simon says touch your toes "<<n<<" times."<<endl;

  

}
```
![[ourfunc.cpp]]
该程序中的simon（）函数没有返回值，因此不能给变量赋值或者参与运算。
main（）函数有一个int类型的返回值，这个返回值可以理解为返回给了操作系统。例如windows的命令行批处理文件都被设计成运行程序，并测试他们的返回值，如果是0则以为程序运行成功。
## 用户定义的有返回值的函数
